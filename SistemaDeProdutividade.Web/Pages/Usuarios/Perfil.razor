@page "/usuarios/perfil/{id:guid}"
@using SistemaDeProdutividade.Communication.ViewModel.Produtividades
@inherits UsuarioPerfilPage

<PageTitle>Perfil de usuário</PageTitle>

<MudContainer MinHeight="130px" Width="100%" Class="d-flex justify-space-between" >
    <MudContainer MaxWidth="MaxWidth.Medium" Class="d-flex align-center">
        <MudContainer Class="d-inline">
            <MudText Typo="Typo.h4" Class="px-4">Informações</MudText>
            <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">Dados do usuário e suas respectivas produtividades.</MudText>
        </MudContainer>
     </MudContainer>

    <MudContainer MaxWidth="MaxWidth.Medium" Class="d-flex align-center justify-end gap-4">
        <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="rounded-lg cursor-not-allowed" Style="height: 44px; width: 150px;" Disabled>Atualizar</MudButton>
        <MudButton Variant="Variant.Filled" Color="Color.Secondary" OnClick="NavigateToPage" Class="rounded-lg" Style="height: 44px; width: 150px;">Nova Lotação</MudButton>
      </MudContainer>
</MudContainer>
<br>
<MudPaper MinHeight="350px" Width="100%" Class="py-12 px-6">
    <MudContainer Class="d-flex" Fixed="true" Style="height: 130px;" >
        <MudContainer Style="width=45%;">
            <MudText Typo="Typo.h6"> <b>@UsuarioPerfil.Nome</b></MudText>
            <MudText Typo="Typo.body2">Matrícula: @UsuarioPerfil.Matricula</MudText>
            <MudText Typo="Typo.body2">Cargo: @UsuarioPerfil.Cargo</MudText>
            <MudText Typo="Typo.body2">Lotação: @UsuarioPerfil.Setor</MudText>
        </MudContainer>
        <MudContainer Style="width=45%;">

        </MudContainer>
    </MudContainer>
    <MudContainer Fixed="true" Style="min-height: 80px">
    @if (Prods.Count() > 0)
    {
        <MudTable T="ProdutividadeFinalizadaIndexVM" Items="@Prods" Hover="true" Breakpoint="Breakpoint.Sm"
                    RowClass="cursor-pointer">
            <ToolBarContent>
                <MudText Typo="Typo.h6">Produtividades</MudText>
                <MudSpacer />
            </ToolBarContent>
           <HeaderContent>
                <MudTh>nº</MudTh>
                <MudTh>Cargo</MudTh>
                <MudTh>Atividade realizada em</MudTh>
                <MudTh>Criado em</MudTh>
                <MudTh>Status</MudTh>
          </HeaderContent>
          <RowTemplate>
                <MudTd DataLabel="nº">@context.Code</MudTd>
                <MudTd DataLabel="Cargo">@context.Cargo</MudTd>
                <MudTd DataLabel="Atividade realizada em">@context.DataInicial.ToString("dd/MM/yyyy") à @context.DataFinal.ToString("dd/MM/yyyy")</MudTd>
                <MudTd DataLabel="Criado em">@context.DataCriacao</MudTd>
                <MudTd DataLabel="Status">@context.Status</MudTd>  
            </RowTemplate>
        </MudTable>
    }
    else
    {
            <MudText Class="d-flex align-center justify-center" Typo="Typo.h5">Sem produtividades feitas</MudText>
            
    }
    </MudContainer>
</MudPaper>